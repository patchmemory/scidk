<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>{% block title %}SciDK{% endblock %}</title>
  <style>
    :root { --fg:#222; --muted:#666; --bg:#fff; --accent:#0a6; }
    * { box-sizing: border-box; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; margin: 0; color: var(--fg); background: var(--bg); }
    header { display:flex; align-items: center; justify-content: space-between; padding: 0.75rem 1rem; border-bottom: 1px solid #eee; position: sticky; top:0; background: var(--bg); }
    header h1 { margin: 0; font-size: 1.1rem; font-weight: 600; }
    nav a { color: var(--fg); text-decoration: none; padding: 0.25rem 0.5rem; border-radius: 4px; }
    nav a + a { margin-left: 0.25rem; }
    nav a:hover { background: #f3f3f3; }
    main { padding: 1rem; max-width: 1100px; margin: 0 auto; }
    table { border-collapse: collapse; width: 100%; }
    td, th { border: 1px solid #eee; padding: 8px; text-align: left; }
    th { background: #f9f9f9; }
    .small { color: var(--muted); font-size: 0.9em; }
    .actions { display: flex; gap: .5rem; align-items: center; }
    form.inline { display: inline-block; }
    /* Toast styles */
    #toast-container { position: fixed; top: 12px; right: 12px; z-index: 9999; display: flex; flex-direction: column; gap: 8px; }
    .toast { background: #333; color: #fff; padding: 10px 12px; border-radius: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); opacity: 0.95; font-size: 0.9em; }
    .toast.error { background: #b00020; }
    .toast.success { background: #0a6; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
<header>
  <h1><a href="/" style="text-decoration:none;color:inherit">SciDK</a></h1>
  <nav>
    <!-- Home link removed; use SciDK logo as Home -->
    <a href="/chat">Chat</a>
    <a href="/map">Map</a>
    <a href="/datasets">File</a>
    <!-- Interpreters and Plugins moved into Set page -->
    <a href="/settings">Set</a>
  </nav>
</header>
<div id="toast-container" aria-live="polite" aria-atomic="true"></div>
<main>
  {% block content %}{% endblock %}
</main>
<script>
  (function(){
    const containerId = 'toast-container';
    function ensureContainer(){
      let el = document.getElementById(containerId);
      if (!el) { el = document.createElement('div'); el.id = containerId; document.body.appendChild(el); }
      return el;
    }
    function makeToast(message, type='error', timeoutMs=3000){
      const c = ensureContainer();
      const t = document.createElement('div');
      t.className = 'toast ' + (type || '');
      t.textContent = message;
      c.appendChild(t);
      setTimeout(() => { t.style.opacity = '0'; t.style.transition = 'opacity 300ms'; }, Math.max(0, timeoutMs - 300));
      setTimeout(() => { t.remove(); }, timeoutMs);
    }
    window.toast = makeToast;
  })();
</script>
</body>
</html>
