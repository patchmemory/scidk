{% extends 'base.html' %}
{% block title %}SciDK - Home{% endblock %}
{% block content %}
<section>
  <h2>Scan Files</h2>
  <form action="/scan" method="post">
    <label>Path: <input type="text" name="path" placeholder="/path/to/scan" style="width: 24rem"/></label>
    <label><input type="checkbox" name="recursive" checked/> Recursive</label>
    <button type="submit">Scan</button>
  </form>
</section>

<section>
  <h2>Datasets (latest)</h2>
  <table>
    <thead>
    <tr>
      <th>Path</th>
      <th>Extension</th>
      <th>Size (bytes)</th>
      <th>Interpreted</th>
    </tr>
    </thead>
    <tbody>
    {% for d in datasets %}
      <tr>
        <td><a href="/datasets/{{ d.id }}">{{ d.path }}</a></td>
        <td>{{ d.extension }}</td>
        <td class="small">{{ d.size_bytes }}</td>
        <td class="small">{{ d.interpretations.keys()|list }}</td>
      </tr>
    {% else %}
      <tr><td colspan="4" class="small">No datasets yet. Use the Scan form above.</td></tr>
    {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}